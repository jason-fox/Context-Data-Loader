
#!/bin/bash
#
#  curl commands to reload the data from the previous tutorial
#
#

set -e

echo -e "‚è≥ Loading context data in \033[1mNGSI-LD\033[0m format"
echo -e "    - all entity data models are defined referencing the" 
echo -e "      \033[1m"${TUTORIAL_DATA_MODELS_CONTEXT}"\033[0m JSON-LD context"
echo -e "\nCreating buildings for the farm ..."
curl -s -o /dev/null -F "file=@./data/building.csv" http://tutorial:3000/csv/Building

echo -e "\nCreating animals for the farm ..."
curl -s -o /dev/null -F "file=@./data/cow.csv" http://tutorial:3000/csv/Animal
curl -s -o /dev/null -F "file=@./data/pig.csv" http://tutorial:3000/csv/Animal

echo -e "Creating devices for the animals ..."
curl -s -o /dev/null -F "file=@./data/device.csv" http://tutorial:3000/csv/Device

echo -e "Creating agri-data for the farmer ..."
curl -s -o /dev/null -F "file=@./data/agri-parcel.csv" http://tutorial:3000/csv/AgriParcel
curl -s -o /dev/null -F "file=@./data/agri-crop.csv" http://tutorial:3000/csv/AgriCrop
curl -s -o /dev/null -F "file=@./data/agri-farm.csv" http://tutorial:3000/csv/AgriFarm
curl -s -o /dev/null -F "file=@./data/agri-pest.csv" http://tutorial:3000/csv/AgriPest
curl -s -o /dev/null -F "file=@./data/agri-soil.csv" http://tutorial:3000/csv/AgriSoil
curl -s -o /dev/null -F "file=@./data/trough.csv" http://tutorial:3000/csv/Trough


echo -e "Creating personnel for the farm ..."
curl -s -o /dev/null -F "file=@./data/person.csv" http://tutorial:3000/csv/Person

echo -e "Creating weather observations readings ..."
curl -s -o /dev/null -F "file=@./data/weather.csv" http://tutorial:3000/csv/Weather

echo -e "\nInitialising devices readings ... \n"
curl -s -o /dev/null -iX PUT --location ''"${IOT_DEVICES}"'/devices' \
-H 'Content-Type: application/json' \
-d '{
  "cow001": "o|1|hide|o,x|d|AT_REST|bpm|51|gps|13.3497,52.5113|s|0",
  "cow002": "o|1|hide|o,x|d|AT_REST|bpm|54|gps|13.3480,52.5118|s|0",
  "cow003": "o|1|hide|o,x|d|AT_REST|bpm|51|gps|13.3550,52.5152|s|0",
  "cow004": "o|1|hide|o,x|d|GRAZING|bpm|54|gps|13.3545,52.5136|s|0",
  "cow006": "o|1|hide|o,x|d|AT_REST|bpm|52|gps|13.3698,52.5163|s|0",
  "cow010": "o|1|hide|o,x|d|AT_REST|bpm|55|gps|13.3485,52.5112|s|0",
  "cow009": "o|1|hide|o,x|d|AT_REST|bpm|54|gps|13.3489,52.5171|s|0",
  "cow008": "o|1|hide|o,x|d|GRAZING|bpm|50|gps|13.3482,52.5184|s|0",
  "cow007": "o|1|hide|o,x|d|AT_REST|bpm|55|gps|13.3559,52.5156|s|0",
  "cow005": "o|1|hide|o,x|d|AT_REST|bpm|70|gps|13.3556,52.5151|s|0",
  "cow011": "o|1|hide|o,x|d|GRAZING|bpm|55|gps|13.3489,52.5175|s|0",
  "cow012": "o|1|hide|o,x|d|GRAZING|bpm|55|gps|13.3527,52.5136|s|0",
  "cow019": "o|1|hide|o,x|d|GRAZING|bpm|55|gps|13.3542,52.5136|s|0",
  "cow018": "o|1|hide|o,x|d|GRAZING|bpm|52|gps|13.3529,52.5135|s|0",
  "cow017": "o|1|hide|o,x|d|AT_REST|bpm|54|gps|13.3553,52.5158|s|0",
  "cow016": "o|1|hide|o,x|d|AT_REST|bpm|52|gps|13.3544,52.5158|s|0",
  "cow015": "o|1|hide|o,x|d|GRAZING|bpm|55|gps|13.3482,52.5171|s|0",
  "cow014": "o|1|hide|o,x|d|GRAZING|bpm|54|gps|13.3524,52.5133|s|0",
  "cow013": "o|1|hide|o,x|d|GRAZING|bpm|51|gps|13.3498,52.5113|s|0",
  "cow021": "o|1|hide|o,x|d|AT_REST|bpm|51|gps|13.3495,52.5117|s|0",
  "cow020": "o|1|hide|o,x|d|AT_REST|bpm|55|gps|13.3489,52.5184|s|0",
  "cow023": "o|1|hide|o,x|d|GRAZING|bpm|53|gps|13.3534,52.5132|s|0",
  "cow022": "o|1|hide|o,x|d|AT_REST|bpm|50|gps|13.3483,52.5169|s|0",
  "cow024": "o|1|hide|o,x|d|AT_REST|bpm|54|gps|13.3541,52.5158|s|0",
  "cow025": "o|1|hide|o,x|d|DRINKING|bpm|50|gps|13.3550,52.5150|s|0",
  "cow026": "o|1|hide|o,x|d|AT_REST|bpm|54|gps|13.3545,52.5159|s|0",
  "cow027": "o|1|hide|o,x|d|AT_REST|bpm|52|gps|13.3558,52.5152|s|0",
  "cow029": "o|1|hide|o,x|d|AT_REST|bpm|51|gps|13.3495,52.5111|s|0",
  "cow028": "o|1|hide|o,x|d|DRINKING|bpm|54|gps|13.348,52.5111|s|0",
  "cow033": "o|1|hide|o,x|d|AT_REST|bpm|54|gps|13.3489,52.5179|s|0",
  "cow031": "o|1|hide|o,x|d|GRAZING|bpm|53|gps|13.355,52.5159|s|0",
  "cow030": "o|1|hide|o,x|d|GRAZING|bpm|52|gps|13.3543,52.5154|s|0",
  "cow037": "o|1|hide|o,x|d|GRAZING|bpm|54|gps|13.3494,52.5118|s|0",
  "cow036": "o|1|hide|o,x|d|GRAZING|bpm|50|gps|13.3487,52.5185|s|0",
  "cow035": "o|1|hide|o,x|d|GRAZING|bpm|52|gps|13.3539,52.5139|s|0",
  "cow034": "o|1|hide|o,x|d|AT_REST|bpm|55|gps|13.3543,52.5151|s|0",
  "cow032": "o|1|hide|o,x|d|AT_REST|bpm|51|gps|13.3489,52.5114|s|0",
  "cow038": "o|1|hide|o,x|d|GRAZING|bpm|50|gps|13.3547,52.5156|s|0",
  "cow039": "o|1|hide|o,x|d|AT_REST|bpm|51|gps|13.3533,52.5138|s|0",
  "cow040": "o|1|hide|o,x|d|AT_REST|bpm|55|gps|13.3483,52.5168|s|0",
  "pig001": "d|AT_REST|bpm|64|gps|13.3507,52.5183|s|0",
  "pig002": "d|AT_REST|bpm|61|gps|13.3500,52.5188|s|0",
  "pig003": "d|FORAGING|bpm|62|gps|13.350,52.518|s|0",
  "pig004": "d|FORAGING|bpm|63|gps|13.3505,52.5186|s|0",
  "pig007": "d|FORAGING|bpm|64|gps|13.3509,52.5186|s|0",
  "pig008": "d|AT_REST|bpm|60|gps|13.3502,52.5184|s|0",
  "pig009": "d|AT_REST|bpm|65|gps|13.3509,52.5181|s|0",
  "pig006": "d|FORAGING|bpm|61|gps|13.3504,52.5184|s|0",
  "pig005": "d|WALLOWING|bpm|62|gps|13.3506,52.5181|s|0",
  "pig012": "d|FORAGING|bpm|63|gps|13.3507,52.5186|s|0",
  "pig010": "d|FORAGING|bpm|65|gps|13.3505,52.5182|s|0",
  "pig011": "d|FORAGING|bpm|63|gps|13.3509,52.5185|s|0",
  "pig013": "d|FORAGING|bpm|60|gps|13.3508,52.5183|s|0",
  "pig018": "d|FORAGING|bpm|60|gps|13.3509,52.5180|s|0",
  "pig019": "d|AT_REST|bpm|62|gps|13.3500,52.5186|s|0",
  "pig016": "d|AT_REST|bpm|63|gps|13.3504,52.5188|s|0",
  "pig017": "d|FORAGING|bpm|64|gps|13.3503,52.5188|s|0",
  "pig014": "d|FORAGING|bpm|64|gps|13.3504,52.5183|s|0",
  "pig015": "d|FORAGING|bpm|62|gps|13.3502,52.5181|s|0",
  "pig021": "d|FORAGING|bpm|60|gps|13.3505,52.5187|s|0",
  "pig020": "d|AT_REST|bpm|61|gps|13.3509,52.5184|s|0",
  "pig023": "d|WALLOWING|bpm|62|gps|13.3504,52.5182|s|0",
  "pig022": "d|AT_REST|bpm|61|gps|13.3503,52.5189|s|0",
  "pig024": "d|AT_REST|bpm|60|gps|13.3501,52.5188|s|0",
  "pig028": "d|DRINKING|bpm|61|gps|13.3501,52.5181|s|0",
  "pig029": "d|AT_REST|bpm|60|gps|13.3505,52.5181|s|0",
  "pig027": "d|AT_REST|bpm|64|gps|13.3508,52.5182|s|0",
  "pig025": "d|AT_REST|bpm|61|gps|13.3507,52.5180|s|0",
  "pig026": "d|DRINKING|bpm|63|gps|13.3505,52.5189|s|0",
  "pig030": "d|AT_REST|bpm|64|gps|13.3503,52.5184|s|0",
  "pig033": "d|FORAGING|bpm|65|gps|13.3509,52.5189|s|0",
  "pig032": "d|FORAGING|bpm|60|gps|13.3509,52.5184|s|0",
  "pig038": "d|FORAGING|bpm|60|gps|13.3507,52.5186|s|0",
  "pig037": "d|FORAGING|bpm|61|gps|13.3504,52.518|s|0",
  "pig036": "d|FORAGING|bpm|64|gps|13.3507,52.5185|s|0",
  "pig031": "d|FORAGING|bpm|63|gps|13.3500,52.5189|s|0",
  "pig035": "d|AT_REST|bpm|62|gps|13.3509,52.5189|s|0",
  "pig034": "d|WALLOWING|bpm|62|gps|13.3503,52.5181|s|0",
  "pig039": "d|AT_REST|bpm|64|gps|13.3503,52.5188|s|0",
  "pig040": "d|AT_REST|bpm|64|gps|13.3503,52.5188|s|0"
}'

echo -e "\n \033[1;32mdone\033[0m"
